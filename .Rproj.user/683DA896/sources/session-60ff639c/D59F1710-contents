---
title: "A2_Group5"
author: "Mirre Dona (6156630)"
date: "2023-11-12"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

#Load libraries
```{r}
library(ISLR) 
library(tidyverse) 
library(readr) # for data import
library(dplyr)
library(magrittr) # for pipes
library(mice) # for missing data
library(ggplot2) # for plotting

```


# Import dataset
```{r}
sleepdata <- read.csv('data/Sleep_health_and_lifestyle_dataset.csv')
View(sleepdata)
```

# Description of the data
The Sleep Health and Lifestyle Dataset, here called sleepdata, consists of 400 rows and 13 columns. The dataset consists of sleep-related data. A lot of variables are presented, including gender, age, occupation, sleep duration, quality of sleep, physical activity levels, stress levels, BMI category, blood pressure, heart rate, daily steps, and, if it is the case, the sleep disorders. This dataset offers the opportunity to gain insights into whether sleep factors and lifestyle factors are related.

To download the dataset, click [here](https://www.kaggle.com/code/jillanisofttech/sleep-health-and-lifestyle-predication-with-94-ac).


# Data cleaning
## Missing data
```{r}
md.pattern(sleepdata)
```
There is no missing data in this dataset!

## Transform variable types
Let's convert the variables to the right type for exploration and prediction later on.
```{r}
#check how many unique values of occupation, to see if it makes sense to convert to factor, or if there are too many unique values
unique(sleepdata$Occupation)
```

```{r}
sleepdata %<>% 
  mutate(Gender   = as.factor(Gender),
         Occupation = as.factor(Occupation),
         BMI.Category = as.factor(BMI.Category)) %>% 
  select(-Person.ID)
```

## Outlier removal
Check outliers

# Exploratory data analysis

```{r}
#summary of the data
summary(sleepdata)

#check for the most important variables

# use ggplot2 to plot the data of sleep quality compared to sleep duration
plot_sleepdata <- sleepdata %>% 
  ggplot(aes(x=Quality.of.Sleep, y=Sleep.Duration)) + 
  geom_point(position = "jitter") + 
  theme_minimal() +
  geom_smooth() +
  labs(title="Sleep quality compared to sleep duration", x="Sleep quality", y="Sleep duration")
plot_sleepdata

# create a boxplot of the sleep quality per sleep duration.
plot_sleepdata2 <- sleepdata %>% mutate(
  Quality.of.Sleep = as.factor(Quality.of.Sleep)
) %>% 
  ggplot(aes(x=Quality.of.Sleep, y=Sleep.Duration)) + 
  geom_boxplot() + 
  theme_minimal() +
  labs(title="Sleep quality compared to sleep duration", x="Sleep quality", y="Sleep duration")
plot_sleepdata2
```




